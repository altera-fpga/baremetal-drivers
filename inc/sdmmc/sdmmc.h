#ifndef SDMMC_H__
#define SDMMC_H__

#include <stddef.h>
#include <stdint.h>

// IOCTL commands for getting and setting sdmmc registers
typedef enum {
    IOCTL_SDMMC_READ_REGS,
    IOCTL_SDMMC_WRITE_REGS,
    IOCTL_SDMMC_GET_HRS00,
    IOCTL_SDMMC_SET_HRS00,
    IOCTL_SDMMC_SET_HRS00_SWR,
    IOCTL_SDMMC_GET_HRS01,
    IOCTL_SDMMC_SET_HRS01,
    IOCTL_SDMMC_GET_HRS02,
    IOCTL_SDMMC_SET_HRS02,
    IOCTL_SDMMC_GET_HRS03,
    IOCTL_SDMMC_SET_HRS03,
    IOCTL_SDMMC_GET_HRS04,
    IOCTL_SDMMC_SET_HRS04,
    IOCTL_SDMMC_GET_HRS05,
    IOCTL_SDMMC_SET_HRS05,
    IOCTL_SDMMC_GET_HRS06,
    IOCTL_SDMMC_SET_HRS06,
    IOCTL_SDMMC_GET_HRS07,
    IOCTL_SDMMC_SET_HRS07,
    IOCTL_SDMMC_GET_HRS08,
    IOCTL_SDMMC_SET_HRS08,
    IOCTL_SDMMC_SET_HRS08_PHY_DLL_UPDREQ,
    IOCTL_SDMMC_GET_HRS09,
    IOCTL_SDMMC_SET_HRS09,
    IOCTL_SDMMC_SET_HRS09_PHY_SW_RESET,
    IOCTL_SDMMC_SET_HRS09_EXTENDED_RD_MODE,
    IOCTL_SDMMC_SET_HRS09_EXTENDED_WR_MODE,
    IOCTL_SDMMC_SET_HRS09_RDCMD_EN,
    IOCTL_SDMMC_SET_HRS09_RDDATA_EN,
    IOCTL_SDMMC_SET_HRS09_LVSI_TCKSEL,
    IOCTL_SDMMC_SET_HRS09_LVSI_CNT,
    IOCTL_SDMMC_GET_HRS10,
    IOCTL_SDMMC_SET_HRS10,
    IOCTL_SDMMC_GET_HRS12,
    IOCTL_SDMMC_SET_HRS12,
    IOCTL_SDMMC_GET_HRS13,
    IOCTL_SDMMC_SET_HRS13,
    IOCTL_SDMMC_GET_HRS14,
    IOCTL_SDMMC_SET_HRS14,
    IOCTL_SDMMC_GET_HRS16,
    IOCTL_SDMMC_SET_HRS16,
    IOCTL_SDMMC_GET_HRS29,
    IOCTL_SDMMC_GET_HRS30,
    IOCTL_SDMMC_GET_HRS31,
    IOCTL_SDMMC_GET_HRS32,
    IOCTL_SDMMC_SET_HRS32,
    IOCTL_SDMMC_SET_HRS32_ADDR,
    IOCTL_SDMMC_SET_HRS32_LOAD,
    IOCTL_SDMMC_GET_HRS33,
    IOCTL_SDMMC_GET_HRS34,
    IOCTL_SDMMC_GET_SRS00,
    IOCTL_SDMMC_SET_SRS00,
    IOCTL_SDMMC_GET_SRS01,
    IOCTL_SDMMC_SET_SRS01,
    IOCTL_SDMMC_GET_SRS02,
    IOCTL_SDMMC_SET_SRS02,
    IOCTL_SDMMC_GET_SRS03,
    IOCTL_SDMMC_SET_SRS03,
    IOCTL_SDMMC_GET_SRS04,
    IOCTL_SDMMC_GET_SRS05,
    IOCTL_SDMMC_GET_SRS06,
    IOCTL_SDMMC_GET_SRS07,
    IOCTL_SDMMC_GET_SRS08,
    IOCTL_SDMMC_SET_SRS08,
    IOCTL_SDMMC_GET_SRS09,
    IOCTL_SDMMC_GET_SRS10,
    IOCTL_SDMMC_SET_SRS10,
    IOCTL_SDMMC_GET_SRS11,
    IOCTL_SDMMC_SET_SRS11,
    IOCTL_SDMMC_SET_SRS11_ICE,
    IOCTL_SDMMC_SET_SRS11_SDCE,
    IOCTL_SDMMC_SET_SRS11_SDCFSH,
    IOCTL_SDMMC_SET_SRS11_SDCFSL,
    IOCTL_SDMMC_SET_SRS11_DTCV,
    IOCTL_SDMMC_SET_SRS11_SRFA,
    IOCTL_SDMMC_SET_SRS11_SRCMD,
    IOCTL_SDMMC_SET_SRS11_SRDAT,
    IOCTL_SDMMC_GET_SRS12,
    IOCTL_SDMMC_SET_SRS12,
    IOCTL_SDMMC_GET_SRS13,
    IOCTL_SDMMC_SET_SRS13,
    IOCTL_SDMMC_GET_SRS14,
    IOCTL_SDMMC_SET_SRS14,
    IOCTL_SDMMC_GET_SRS15,
    IOCTL_SDMMC_SET_SRS15,
    IOCTL_SDMMC_SET_SRS15_UMS,
    IOCTL_SDMMC_SET_SRS15_V18SE,
    IOCTL_SDMMC_SET_SRS15_DSS,
    IOCTL_SDMMC_SET_SRS15_EXTNG,
    IOCTL_SDMMC_SET_SRS15_SCS,
    IOCTL_SDMMC_SET_SRS15_LVSIEXEC,
    IOCTL_SDMMC_SET_SRS15_ADMA2LM,
    IOCTL_SDMMC_SET_SRS15_CMD23E,
    IOCTL_SDMMC_SET_SRS15_HV4E,
    IOCTL_SDMMC_SET_SRS15_A64B,
    IOCTL_SDMMC_SET_SRS15_PVE,
    IOCTL_SDMMC_GET_SRS16,
    IOCTL_SDMMC_GET_SRS17,
    IOCTL_SDMMC_GET_SRS18,
    IOCTL_SDMMC_GET_SRS19,
    IOCTL_SDMMC_GET_SRS20,
    IOCTL_SDMMC_SET_SRS20,
    IOCTL_SDMMC_GET_SRS21,
    IOCTL_SDMMC_GET_SRS22,
    IOCTL_SDMMC_SET_SRS22,
    IOCTL_SDMMC_GET_SRS23,
    IOCTL_SDMMC_SET_SRS23,
    IOCTL_SDMMC_GET_SRS24,
    IOCTL_SDMMC_GET_SRS25,
    IOCTL_SDMMC_GET_SRS26,
    IOCTL_SDMMC_GET_SRS27,
    IOCTL_SDMMC_GET_SRS30,
    IOCTL_SDMMC_SET_SRS30,
    IOCTL_SDMMC_GET_SRS31,
    IOCTL_SDMMC_SET_SRS31,
    IOCTL_SDMMC_GET_CRS63,
    IOCTL_SDMMC_GET_CQRS00,
    IOCTL_SDMMC_GET_CQRS01,
    IOCTL_SDMMC_GET_CQRS02,
    IOCTL_SDMMC_SET_CQRS02,
    IOCTL_SDMMC_GET_CQRS03,
    IOCTL_SDMMC_SET_CQRS03,
    IOCTL_SDMMC_GET_CQRS04,
    IOCTL_SDMMC_SET_CQRS04,
    IOCTL_SDMMC_GET_CQRS05,
    IOCTL_SDMMC_SET_CQRS05,
    IOCTL_SDMMC_GET_CQRS06,
    IOCTL_SDMMC_SET_CQRS06,
    IOCTL_SDMMC_GET_CQRS07,
    IOCTL_SDMMC_SET_CQRS07,
    IOCTL_SDMMC_SET_CQRS07_CQICTOVAL,
    IOCTL_SDMMC_SET_CQRS07_CQICTOVALEN,
    IOCTL_SDMMC_SET_CQRS07_CQICCTH,
    IOCTL_SDMMC_SET_CQRS07_CQICCTHWEN,
    IOCTL_SDMMC_SET_CQRS07_CQICCTR,
    IOCTL_SDMMC_SET_CQRS07_CQICED,
    IOCTL_SDMMC_GET_CQRS08,
    IOCTL_SDMMC_SET_CQRS08,
    IOCTL_SDMMC_GET_CQRS09,
    IOCTL_SDMMC_SET_CQRS09,
    IOCTL_SDMMC_GET_CQRS10,
    IOCTL_SDMMC_SET_CQRS10,
    IOCTL_SDMMC_GET_CQRS11,
    IOCTL_SDMMC_SET_CQRS11,
    IOCTL_SDMMC_GET_CQRS12,
    IOCTL_SDMMC_GET_CQRS13,
    IOCTL_SDMMC_GET_CQRS14,
    IOCTL_SDMMC_SET_CQRS14,
    IOCTL_SDMMC_GET_CQRS16,
    IOCTL_SDMMC_SET_CQRS16,
    IOCTL_SDMMC_GET_CQRS17,
    IOCTL_SDMMC_SET_CQRS17,
    IOCTL_SDMMC_GET_CQRS18,
    IOCTL_SDMMC_GET_CQRS20,
    IOCTL_SDMMC_SET_CQRS20,
    IOCTL_SDMMC_GET_CQRS21,
    IOCTL_SDMMC_GET_CQRS22,
    IOCTL_SDMMC_GET_CQRS23,
    IOCTL_SDMMC_END,
} sdmmc_ioctl_t;

int32_t sdmmc_open(const char *path, int32_t flags);
int32_t sdmmc_close(int32_t base_add);
size_t sdmmc_read(int32_t base_add, uintptr_t user_data, size_t length);
size_t sdmmc_recv(int32_t base_add, uintptr_t user_data, size_t length, int32_t flags);
size_t sdmmc_write(int32_t base_add, uintptr_t user_data, size_t length);
size_t sdmmc_send(int32_t base_add, uintptr_t user_data, size_t size, int32_t flags);
int32_t sdmmc_ioctl(int32_t base_add, int32_t operation, uintptr_t user_data, size_t length);
int32_t sdmmc_error(int32_t base_add);

#endif // SDMMC_H