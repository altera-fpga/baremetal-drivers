#ifndef SMMU_H__
#define SMMU_H__

#include <stddef.h>
#include <stdint.h>

// Provides an interface to an MMU 600 ARM Ecosytem SMMU

typedef enum {
    IOCTL_SMMU_IDR0_GET,
    IOCTL_SMMU_IDR1_GET,
    IOCTL_SMMU_IDR2_GET,
    IOCTL_SMMU_IDR3_GET,
    IOCTL_SMMU_IDR5_GET,
    IOCTL_SMMU_IIDR_GET,
    IOCTL_SMMU_AIDR_GET,
    IOCTL_SMMU_CR0_GET,
    IOCTL_SMMU_CR0_SET,
    IOCTL_SMMU_CR0ACK_GET,
    IOCTL_SMMU_CR1_GET,
    IOCTL_SMMU_CR1_SET,
    IOCTL_SMMU_CR2_GET,
    IOCTL_SMMU_CR2_SET,
    IOCTL_SMMU_GBPA_GET,
    IOCTL_SMMU_GBPA_SET,
    IOCTL_SMMU_IRQ_CTRL_GET,
    IOCTL_SMMU_IRQ_CTRL_SET,
    IOCTL_SMMU_IRQ_CTRLACK_GET,
    IOCTL_SMMU_GERROR_GET,
    IOCTL_SMMU_GERRORN_GET,
    IOCTL_SMMU_GERRORN_SET,
    IOCTL_SMMU_GERROR_IRQ_CFG0_LO_GET,
    IOCTL_SMMU_GERROR_IRQ_CFG0_LO_SET,
    IOCTL_SMMU_GERROR_IRQ_CFG0_HI_GET,
    IOCTL_SMMU_GERROR_IRQ_CFG0_HI_SET,
    IOCTL_SMMU_GERROR_IRQ_CFG1_GET,
    IOCTL_SMMU_GERROR_IRQ_CFG1_SET,
    IOCTL_SMMU_GERROR_IRQ_CFG2_GET,
    IOCTL_SMMU_GERROR_IRQ_CFG2_SET,
    IOCTL_SMMU_STRTAB_BASE_LO_GET,
    IOCTL_SMMU_STRTAB_BASE_LO_SET,
    IOCTL_SMMU_STRTAB_BASE_HI_GET,
    IOCTL_SMMU_STRTAB_BASE_HI_SET,
    IOCTL_SMMU_STRTAB_BASE_CFG_GET,
    IOCTL_SMMU_STRTAB_BASE_CFG_SET,
    IOCTL_SMMU_CMDQ_BASE_LO_GET,
    IOCTL_SMMU_CMDQ_BASE_LO_SET,
    IOCTL_SMMU_CMDQ_BASE_HI_GET,
    IOCTL_SMMU_CMDQ_BASE_HI_SET,
    IOCTL_SMMU_CMDQ_PROD_GET,
    IOCTL_SMMU_CMDQ_PROD_SET,
    IOCTL_SMMU_CMDQ_CONS_GET,
    IOCTL_SMMU_CMDQ_CONS_SET,
    IOCTL_SMMU_EVENTQ_BASE_LO_GET,
    IOCTL_SMMU_EVENTQ_BASE_LO_SET,
    IOCTL_SMMU_EVENTQ_BASE_HI_GET,
    IOCTL_SMMU_EVENTQ_BASE_HI_SET,
    IOCTL_SMMU_EVENTQ_IRQ_CFG0_LO_GET,
    IOCTL_SMMU_EVENTQ_IRQ_CFG0_LO_SET,
    IOCTL_SMMU_EVENTQ_IRQ_CFG0_HI_GET,
    IOCTL_SMMU_EVENTQ_IRQ_CFG0_HI_SET,
    IOCTL_SMMU_EVENTQ_IRQ_CFG1_GET,
    IOCTL_SMMU_EVENTQ_IRQ_CFG1_SET,
    IOCTL_SMMU_EVENTQ_IRQ_CFG2_GET,
    IOCTL_SMMU_EVENTQ_IRQ_CFG2_SET,
    IOCTL_SMMU_PRIQ_BASE_LO_GET,
    IOCTL_SMMU_PRIQ_BASE_LO_SET,
    IOCTL_SMMU_PRIQ_BASE_HI_GET,
    IOCTL_SMMU_PRIQ_BASE_HI_SET,
    IOCTL_SMMU_PRIQ_IRQ_CFG0_LO_GET,
    IOCTL_SMMU_PRIQ_IRQ_CFG0_LO_SET,
    IOCTL_SMMU_PRIQ_IRQ_CFG0_HI_GET,
    IOCTL_SMMU_PRIQ_IRQ_CFG0_HI_SET,
    IOCTL_SMMU_PRIQ_IRQ_CFG1_GET,
    IOCTL_SMMU_PRIQ_IRQ_CFG1_SET,
    IOCTL_SMMU_PRIQ_IRQ_CFG2_GET,
    IOCTL_SMMU_PRIQ_IRQ_CFG2_SET,
    IOCTL_SMMU_PIDR0_GET,
    IOCTL_SMMU_PIDR1_GET,
    IOCTL_SMMU_PIDR2_GET,
    IOCTL_SMMU_PIDR3_GET,
    IOCTL_SMMU_PIDR4_GET,
    IOCTL_SMMU_PIDR5_GET,
    IOCTL_SMMU_PIDR6_GET,
    IOCTL_SMMU_PIDR7_GET,
    IOCTL_SMMU_CIDR0_GET,
    IOCTL_SMMU_CIDR1_GET,
    IOCTL_SMMU_CIDR2_GET,
    IOCTL_SMMU_CIDR3_GET,
    IOCTL_SMMU_PMCG_EVTYPER0_GET,
    IOCTL_SMMU_PMCG_EVTYPER0_SET,
    IOCTL_SMMU_PMCG_EVTYPER1_GET,
    IOCTL_SMMU_PMCG_EVTYPER1_SET,
    IOCTL_SMMU_PMCG_EVTYPER2_GET,
    IOCTL_SMMU_PMCG_EVTYPER2_SET,
    IOCTL_SMMU_PMCG_EVTYPER3_GET,
    IOCTL_SMMU_PMCG_EVTYPER3_SET,
    IOCTL_SMMU_PMCG_SMR0_GET,
    IOCTL_SMMU_PMCG_SMR0_SET,
    IOCTL_SMMU_PMCG_CNTEN_SETBITS,
    IOCTL_SMMU_PMCG_CNTEN_CLRBITS,
    IOCTL_SMMU_PMCG_INTEN_SETBITS,
    IOCTL_SMMU_PMCG_INTEN_CLRBITS,
    IOCTL_SMMU_PMCG_SCR_GET,
    IOCTL_SMMU_PMCG_SCR_SET,
    IOCTL_SMMU_PMCG_CFGR_GET,
    IOCTL_SMMU_PMCG_CFGR_SET,
    IOCTL_SMMU_PMCG_CR_GET,
    IOCTL_SMMU_PMCG_CR_SET,
    IOCTL_SMMU_PMCG_CEID0_LO_GET,
    IOCTL_SMMU_PMCG_CEID0_HI_GET,
    IOCTL_SMMU_PMCG_CEID1_LO_GET,
    IOCTL_SMMU_PMCG_CEID1_HI_GET,
    IOCTL_SMMU_PMCG_IRQ_CTRL_GET,
    IOCTL_SMMU_PMCG_IRQ_CTRL_SET,
    IOCTL_SMMU_PMCG_IRQ_CTRLACK_GET,
    IOCTL_SMMU_PMCG_AIDR_GET,
    IOCTL_SMMU_PMCG_PMAUTHSTATUS_GET,
    IOCTL_SMMU_PMCG_PMDEVARCH_GET,
    IOCTL_SMMU_PMCG_PMDEVTYPE_GET,
    IOCTL_SMMU_PMCG_PIDR0_GET,
    IOCTL_SMMU_PMCG_PIDR1_GET,
    IOCTL_SMMU_PMCG_PIDR2_GET,
    IOCTL_SMMU_PMCG_PIDR3_GET,
    IOCTL_SMMU_PMCG_PIDR4_GET,
    IOCTL_SMMU_PMCG_PIDR5_GET,
    IOCTL_SMMU_PMCG_PIDR6_GET,
    IOCTL_SMMU_PMCG_PIDR7_GET,
    IOCTL_SMMU_PMCG_CIDR0_GET,
    IOCTL_SMMU_PMCG_CIDR1_GET,
    IOCTL_SMMU_PMCG_CIDR2_GET,
    IOCTL_SMMU_PMCG_CIDR3_GET,
    IOCTL_SMMU_S_IDR0_GET,
    IOCTL_SMMU_S_IDR1_GET,
    IOCTL_SMMU_S_IDR3_GET,
    IOCTL_SMMU_S_CR0_GET,
    IOCTL_SMMU_S_CR0_SET,
    IOCTL_SMMU_S_CR0ACK_GET,
    IOCTL_SMMU_S_CR0ACK_SET,
    IOCTL_SMMU_S_CR1_GET,
    IOCTL_SMMU_S_CR1_SET,
    IOCTL_SMMU_S_CR2_GET,
    IOCTL_SMMU_S_CR2_SET,
    IOCTL_SMMU_S_INIT_GET,
    IOCTL_SMMU_S_INIT_SET,
    IOCTL_SMMU_S_GBPA_GET,
    IOCTL_SMMU_S_GBPA_SET,
    IOCTL_SMMU_S_IRQ_CTRL_GET,
    IOCTL_SMMU_S_IRQ_CTRL_SET,
    IOCTL_SMMU_S_IRQ_CTRLACK_GET,
    IOCTL_SMMU_S_GERROR_GET,
    IOCTL_SMMU_S_GERRORN_GET,
    IOCTL_SMMU_S_GERRORN_SET,
    IOCTL_SMMU_S_GERROR_IRQ_CFG0_LO_GET,
    IOCTL_SMMU_S_GERROR_IRQ_CFG0_LO_SET,
    IOCTL_SMMU_S_GERROR_IRQ_CFG0_HI_GET,
    IOCTL_SMMU_S_GERROR_IRQ_CFG0_HI_SET,
    IOCTL_SMMU_S_GERROR_IRQ_CFG1_GET,
    IOCTL_SMMU_S_GERROR_IRQ_CFG1_SET,
    IOCTL_SMMU_S_GERROR_IRQ_CFG2_GET,
    IOCTL_SMMU_S_GERROR_IRQ_CFG2_SET,
    IOCTL_SMMU_S_STRTAB_BASE_LO_GET,
    IOCTL_SMMU_S_STRTAB_BASE_LO_SET,
    IOCTL_SMMU_S_STRTAB_BASE_HI_GET,
    IOCTL_SMMU_S_STRTAB_BASE_HI_SET,
    IOCTL_SMMU_S_STRTAB_BASE_CFG_GET,
    IOCTL_SMMU_S_STRTAB_BASE_CFG_SET,
    IOCTL_SMMU_S_CMDQ_BASE_LO_GET,
    IOCTL_SMMU_S_CMDQ_BASE_LO_SET,
    IOCTL_SMMU_S_CMDQ_BASE_HI_GET,
    IOCTL_SMMU_S_CMDQ_BASE_HI_SET,
    IOCTL_SMMU_S_CMDQ_PROD_GET,
    IOCTL_SMMU_S_CMDQ_PROD_SET,
    IOCTL_SMMU_S_CMDQ_CONS_GET,
    IOCTL_SMMU_S_CMDQ_CONS_SET,
    IOCTL_SMMU_S_EVENTQ_BASE_LO_GET,
    IOCTL_SMMU_S_EVENTQ_BASE_LO_SET,
    IOCTL_SMMU_S_EVENTQ_BASE_HI_GET,
    IOCTL_SMMU_S_EVENTQ_BASE_HI_SET,
    IOCTL_SMMU_S_EVENTQ_PROD_GET,
    IOCTL_SMMU_S_EVENTQ_PROD_SET,
    IOCTL_SMMU_S_EVENTQ_CONS_GET,
    IOCTL_SMMU_S_EVENTQ_CONS_SET,
    IOCTL_SMMU_S_EVENTQ_IRQ_CFG0_LO_GET,
    IOCTL_SMMU_S_EVENTQ_IRQ_CFG0_LO_SET,
    IOCTL_SMMU_S_EVENTQ_IRQ_CFG0_HI_GET,
    IOCTL_SMMU_S_EVENTQ_IRQ_CFG0_HI_SET,
    IOCTL_SMMU_S_EVENTQ_IRQ_CFG1_GET,
    IOCTL_SMMU_S_EVENTQ_IRQ_CFG1_SET,
    IOCTL_SMMU_S_EVENTQ_IRQ_CFG2_GET,
    IOCTL_SMMU_S_EVENTQ_IRQ_CFG2_SET,
    IOCTL_SMMU_TCU_CTRL_GET,
    IOCTL_SMMU_TCU_CTRL_SET,
    IOCTL_SMMU_TCU_QOS_GET,
    IOCTL_SMMU_TCU_QOS_SET,
    IOCTL_SMMU_TCU_CFG_GET,
    IOCTL_SMMU_TCU_CFG_SET,
    IOCTL_SMMU_TCU_STATUS_GET,
    IOCTL_SMMU_TCU_SCR_GET,
    IOCTL_SMMU_TCU_SCR_SET,
    IOCTL_SMMU_TCU_ERRFR_LO_GET,
    IOCTL_SMMU_TCU_ERRFR_HI_GET,
    IOCTL_SMMU_TCU_ERRCTLR_LO_GET,
    IOCTL_SMMU_TCU_ERRCTLR_LO_SET,
    IOCTL_SMMU_TCU_ERRCTLR_HI_GET,
    IOCTL_SMMU_TCU_ERRSTATUS_LO_GET,
    IOCTL_SMMU_TCU_ERRSTATUS_LO_SET,
    IOCTL_SMMU_TCU_ERRSTATUS_HI_GET,
    IOCTL_SMMU_TCU_ERRGEN_LO_GET,
    IOCTL_SMMU_TCU_ERRGEN_LO_SET,
    IOCTL_SMMU_TCU_ERRGEN_HI_GET,
    IOCTL_SMMU_TCU_NODE_CTRL_GET,
    IOCTL_SMMU_TCU_NODE_CTRL_SET,
    IOCTL_SMMU_TCU_NODE_STATUS_GET,
    IOCTL_SMMU_EVENTQ_PROD_GET,
    IOCTL_SMMU_EVENTQ_PROD_SET,
    IOCTL_SMMU_EVENTQ_CONS_GET,
    IOCTL_SMMU_EVENTQ_CONS_SET,
    IOCTL_SMMU_PRIQ_PROD_GET,
    IOCTL_SMMU_PRIQ_PROD_SET,
    IOCTL_SMMU_PRIQ_CONS_GET,
    IOCTL_SMMU_PRIQ_CONS_SET,
    IOCTL_SMMU_PMCG_EVCNTR0_GET,
    IOCTL_SMMU_PMCG_EVCNTR0_SET,
    IOCTL_SMMU_PMCG_EVCNTR1_GET,
    IOCTL_SMMU_PMCG_EVCNTR1_SET,
    IOCTL_SMMU_PMCG_EVCNTR2_GET,
    IOCTL_SMMU_PMCG_EVCNTR2_SET,
    IOCTL_SMMU_PMCG_EVCNTR3_GET,
    IOCTL_SMMU_PMCG_EVCNTR3_SET,
    IOCTL_SMMU_PMCG_SVR0_GET,
    IOCTL_SMMU_PMCG_SVR1_GET,
    IOCTL_SMMU_PMCG_SVR2_GET,
    IOCTL_SMMU_PMCG_SVR3_GET,
    IOCTL_SMMU_PMCG_OVS_CLRBITS,
    IOCTL_SMMU_PMCG_OVS_SETBITS,
    IOCTL_SMMU_PMCG_CAPR_SET,

    // adding new elements before this line
    IOCTL_SMMU_END
} smmu_op_t;

int32_t smmu_open(const char *path, int32_t flags);
int32_t smmu_close(int32_t fd);
int32_t smmu_recv(int32_t fd, uintptr_t buf, size_t size, int32_t flags);
int32_t smmu_read(int32_t fd, uintptr_t buf, size_t size);
int32_t smmu_send(int32_t fd, const uintptr_t buf, size_t size, int32_t flags);
int32_t smmu_write(int32_t fd, const uintptr_t buf, size_t size);
int32_t smmu_ioctl(int32_t fd, uint32_t operation, uintptr_t arg, size_t size);
int32_t smmu_error(int32_t fd);

#endif // SMMU_H__